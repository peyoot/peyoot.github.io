<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <link rel="alternate" hreflang="en-us" href="https://peyoot.github.io/deyaio/get-started.html"><meta property="og:url" content="https://peyoot.github.io/zh/deyaio/get-started.html"><meta property="og:title" content="安装"><meta property="og:description" content="安装 为了正确安装和使用dey-aio，您需要安装yocto开发环境所需的依赖包，如果您要使用docker进行开发，则还需要安装docker和docker-compose。 强烈建议您使用一台Linux服务器来安装deyaio开发环境。由于编译自定义的Linux镜像，特别是第一次编译耗时较长，尽量避免使用笔记本或日常工作的电脑来安装DEY开发环境。使用..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:locale:alternate" content="en-US"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"安装","image":[""],"dateModified":null,"author":[]}</script><title>安装</title><meta name="description" content="安装 为了正确安装和使用dey-aio，您需要安装yocto开发环境所需的依赖包，如果您要使用docker进行开发，则还需要安装docker和docker-compose。 强烈建议您使用一台Linux服务器来安装deyaio开发环境。由于编译自定义的Linux镜像，特别是第一次编译耗时较长，尽量避免使用笔记本或日常工作的电脑来安装DEY开发环境。使用...">
    <link rel="preload" href="/assets/style-DQ_wQnlu.css" as="style"><link rel="stylesheet" href="/assets/style-DQ_wQnlu.css">
    <link rel="modulepreload" href="/assets/app-oTA4_50g.js"><link rel="modulepreload" href="/assets/get-started.html-B2IFRcRS.js">
    <link rel="prefetch" href="/assets/index.html-DN9aMdLe.js" as="script"><link rel="prefetch" href="/assets/about-me.html-BU1iXOUv.js" as="script"><link rel="prefetch" href="/assets/my-stuff.html-B_RzyFbb.js" as="script"><link rel="prefetch" href="/assets/index.html-CB83IgRS.js" as="script"><link rel="prefetch" href="/assets/app.html-CQlD6MWj.js" as="script"><link rel="prefetch" href="/assets/ccmp25plc.html-Bm6_pFPZ.js" as="script"><link rel="prefetch" href="/assets/get-started.html-jlUZXalx.js" as="script"><link rel="prefetch" href="/assets/introduction.html-BhxqRXX1.js" as="script"><link rel="prefetch" href="/assets/meta-custom.html-BEf3T-ji.js" as="script"><link rel="prefetch" href="/assets/mono.html-BOlPkdrX.js" as="script"><link rel="prefetch" href="/assets/ros2.html-BSNVbn2N.js" as="script"><link rel="prefetch" href="/assets/wireless-camera.html-Dx1m9oVv.js" as="script"><link rel="prefetch" href="/assets/index.html-Ct_CtMUk.js" as="script"><link rel="prefetch" href="/assets/get-started.html-B3dJJnTX.js" as="script"><link rel="prefetch" href="/assets/introduction.html-CMX_tum1.js" as="script"><link rel="prefetch" href="/assets/index.html-J26pmibH.js" as="script"><link rel="prefetch" href="/assets/get-started.html-ClYKz6yJ.js" as="script"><link rel="prefetch" href="/assets/introduction.html-BfBRC0lL.js" as="script"><link rel="prefetch" href="/assets/index.html-CMIpy7KA.js" as="script"><link rel="prefetch" href="/assets/about-me.html-DQxJCm6F.js" as="script"><link rel="prefetch" href="/assets/my-stuff.html-C0zuLDaR.js" as="script"><link rel="prefetch" href="/assets/about-gridzest.html-Cza-fjIv.js" as="script"><link rel="prefetch" href="/assets/index.html-5ZYqVjC4.js" as="script"><link rel="prefetch" href="/assets/ccmp25plc.html-DKsAwZtZ.js" as="script"><link rel="prefetch" href="/assets/custom-dt.html-DBPX3HD3.js" as="script"><link rel="prefetch" href="/assets/devtool.html-DR_94wzz.js" as="script"><link rel="prefetch" href="/assets/dey-buildroot.html-CNcemYuQ.js" as="script"><link rel="prefetch" href="/assets/dey-installer.html-CGSWPdlY.js" as="script"><link rel="prefetch" href="/assets/dt-advance.html-xadDVLZX.js" as="script"><link rel="prefetch" href="/assets/howto.html-6x426e0V.js" as="script"><link rel="prefetch" href="/assets/introduction.html-Diggq2_P.js" as="script"><link rel="prefetch" href="/assets/meta-custom.html-m8hHNV63.js" as="script"><link rel="prefetch" href="/assets/mono.html-BsVHRKCg.js" as="script"><link rel="prefetch" href="/assets/ros2.html-XDnX7Tal.js" as="script"><link rel="prefetch" href="/assets/rtnodemo.html-DBuLXUv4.js" as="script"><link rel="prefetch" href="/assets/wireless-camera.html-ChaOj9Ji.js" as="script"><link rel="prefetch" href="/assets/aitool.html-LgxNPrDA.js" as="script"><link rel="prefetch" href="/assets/financial_plan.html-BnXz-HVB.js" as="script"><link rel="prefetch" href="/assets/mypass.html-CNFNVcOu.js" as="script"><link rel="prefetch" href="/assets/ccmp25-timer.html-BO4aqEdq.js" as="script"><link rel="prefetch" href="/assets/microbus.html-Cvg5DktA.js" as="script"><link rel="prefetch" href="/assets/qt-realtime.html-DJkqjDPE.js" as="script"><link rel="prefetch" href="/assets/gs.html-CLfZMPkQ.js" as="script"><link rel="prefetch" href="/assets/devshell.html-CppaTyl4.js" as="script"><link rel="prefetch" href="/assets/dynamic-debug.html-D6Rsg6Bw.js" as="script"><link rel="prefetch" href="/assets/repo.html-BSu7Iz-7.js" as="script"><link rel="prefetch" href="/assets/it.html-CXN5Avtm.js" as="script"><link rel="prefetch" href="/assets/cc93-get-started.html-BxhjLnim.js" as="script"><link rel="prefetch" href="/assets/ccmp2-sbc.html-Do_YMbfj.js" as="script"><link rel="prefetch" href="/assets/ccmp25-timer.html-43ngOTk2.js" as="script"><link rel="prefetch" href="/assets/dvk_test_recovery.html-DuGPtbYk.js" as="script"><link rel="prefetch" href="/assets/get-started.html-CW8MyaqT.js" as="script"><link rel="prefetch" href="/assets/i2c.html-DcXr8gIN.js" as="script"><link rel="prefetch" href="/assets/mmc.html-CEGW8L8M.js" as="script"><link rel="prefetch" href="/assets/qt-realtime.html-DkkbHHjv.js" as="script"><link rel="prefetch" href="/assets/spi.html-UfgQmU6c.js" as="script"><link rel="prefetch" href="/assets/usb.html-B44X0lAF.js" as="script"><link rel="prefetch" href="/assets/wifi-vs-nonwifi.html-Jh5dYFmi.js" as="script"><link rel="prefetch" href="/assets/ccmp25-rtsp.html-p0Rquh4j.js" as="script"><link rel="prefetch" href="/assets/wl-usage.html-CF0ynMVr.js" as="script"><link rel="prefetch" href="/assets/xbee3.html-BVPCBNIt.js" as="script"><link rel="prefetch" href="/assets/console-interference.html-CAq5Iw1a.js" as="script"><link rel="prefetch" href="/assets/dey-driver.html-eM-0mC8p.js" as="script"><link rel="prefetch" href="/assets/digi-dey.html-BGi3kbdj.js" as="script"><link rel="prefetch" href="/assets/lvds-debugging.html-CbZ35DmD.js" as="script"><link rel="prefetch" href="/assets/lvds-panel-driver.html-DJvWs-t3.js" as="script"><link rel="prefetch" href="/assets/ov2740-debugging.html-DOglwVH5.js" as="script"><link rel="prefetch" href="/assets/regulator.html-BHZqHnh-.js" as="script"><link rel="prefetch" href="/assets/tsc-driver.html-TIDY7aZf.js" as="script"><link rel="prefetch" href="/assets/stash.html-Ck5t5121.js" as="script"><link rel="prefetch" href="/assets/gitea_keycloak.html-BjM8_2oB.js" as="script"><link rel="prefetch" href="/assets/web-dev.html-BTD5jeph.js" as="script"><link rel="prefetch" href="/assets/bash-skill.html-Bep7rmMq.js" as="script"><link rel="prefetch" href="/assets/ipv6.html-9KIOYtk0.js" as="script"><link rel="prefetch" href="/assets/linux-skill.html-ukPfuJ3I.js" as="script"><link rel="prefetch" href="/assets/index.html-CIuvtIJ_.js" as="script"><link rel="prefetch" href="/assets/get-started.html-B9BJEXvh.js" as="script"><link rel="prefetch" href="/assets/introduction.html-DaUWvwja.js" as="script"><link rel="prefetch" href="/assets/index.html-BP0iqaR-.js" as="script"><link rel="prefetch" href="/assets/domaincerts.html-cYHCiREK.js" as="script"><link rel="prefetch" href="/assets/faq.html-CKmSvQew.js" as="script"><link rel="prefetch" href="/assets/get-started.html-D6DP9NEZ.js" as="script"><link rel="prefetch" href="/assets/introduction.html-BpRKH71B.js" as="script"><link rel="prefetch" href="/assets/portainer.html-BSRt_rS_.js" as="script"><link rel="prefetch" href="/assets/pve.html-ChETWMB_.js" as="script"><link rel="prefetch" href="/assets/et2046.html-CwD2xFJG.js" as="script"><link rel="prefetch" href="/assets/viena-firmware.html-D3dTKOgV.js" as="script"><link rel="prefetch" href="/assets/viena-log.html-BENaCizX.js" as="script"><link rel="prefetch" href="/assets/404.html-DrUQRBzL.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="切换侧边栏" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/zh/"><!----><!----></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/zh/" aria-label="首页"><!--[--><!--[--><!--]--> 首页 <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="pvpn"><span class="title">pvpn</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="pvpn"><span class="title">pvpn</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link" href="/zh/pvpn/introduction.html" aria-label="简介"><!--[--><!--[--><!--]--> 简介 <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/pvpn/get-started.html" aria-label="快速开始"><!--[--><!--[--><!--]--> 快速开始 <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="deyaio"><span class="title">deyaio</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="deyaio"><span class="title">deyaio</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/introduction.html" aria-label="简介"><!--[--><!--[--><!--]--> 简介 <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/get-started.html" aria-label="快速开始"><!--[--><!--[--><!--]--> 快速开始 <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/meta-custom.html" aria-label="meta-custom"><!--[--><!--[--><!--]--> meta-custom <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/ros2.html" aria-label="ROS2支持"><!--[--><!--[--><!--]--> ROS2支持 <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/mono.html" aria-label="Mono支持"><!--[--><!--[--><!--]--> Mono支持 <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/wireless-camera.html" aria-label="无线摄像头解决方案 "><!--[--><!--[--><!--]--> 无线摄像头解决方案  <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link" href="/deyaio/get-started.html" aria-label="English"><!--[--><!--[--><!--]--> English <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link route-link-active" href="/" aria-label="简体中文"><!--[--><!--[--><!--]--> 简体中文 <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="http://github.com/peyoot" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="切换颜色模式"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/zh/" aria-label="首页"><!--[--><!--[--><!--]--> 首页 <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="pvpn"><span class="title">pvpn</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="pvpn"><span class="title">pvpn</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link" href="/zh/pvpn/introduction.html" aria-label="简介"><!--[--><!--[--><!--]--> 简介 <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/pvpn/get-started.html" aria-label="快速开始"><!--[--><!--[--><!--]--> 快速开始 <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="deyaio"><span class="title">deyaio</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="deyaio"><span class="title">deyaio</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/introduction.html" aria-label="简介"><!--[--><!--[--><!--]--> 简介 <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/get-started.html" aria-label="快速开始"><!--[--><!--[--><!--]--> 快速开始 <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/meta-custom.html" aria-label="meta-custom"><!--[--><!--[--><!--]--> meta-custom <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/ros2.html" aria-label="ROS2支持"><!--[--><!--[--><!--]--> ROS2支持 <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/mono.html" aria-label="Mono支持"><!--[--><!--[--><!--]--> Mono支持 <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/deyaio/wireless-camera.html" aria-label="无线摄像头解决方案 "><!--[--><!--[--><!--]--> 无线摄像头解决方案  <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link" href="/deyaio/get-started.html" aria-label="English"><!--[--><!--[--><!--]--> English <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link route-link-active" href="/" aria-label="简体中文"><!--[--><!--[--><!--]--> 简体中文 <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="http://github.com/peyoot" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">deyaio <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/zh/deyaio/introduction.html" aria-label="简介"><!--[--><!--[--><!--]--> 简介 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active sidebar-item active" href="/zh/deyaio/get-started.html" aria-label="安装"><!--[--><!--[--><!--]--> 安装 <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#安装必要的依赖包" aria-label="安装必要的依赖包"><!--[--><!--[--><!--]--> 安装必要的依赖包 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#安装repo并配置好git" aria-label="安装repo并配置好git"><!--[--><!--[--><!--]--> 安装repo并配置好git <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#安装docker和docker-compose" aria-label="安装docker和docker-compose"><!--[--><!--[--><!--]--> 安装docker和docker-compose <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#用repo安装dey-aio工具集" aria-label="用repo安装dey-aio工具集"><!--[--><!--[--><!--]--> 用repo安装dey-aio工具集 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#使用docker-compose的开发方式" aria-label="使用docker-compose的开发方式"><!--[--><!--[--><!--]--> 使用docker-compose的开发方式 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#使用官方原生的digi-embedded-yocto开发方式" aria-label="使用官方原生的Digi Embedded Yocto开发方式"><!--[--><!--[--><!--]--> 使用官方原生的Digi Embedded Yocto开发方式 <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/zh/deyaio/meta-custom.html" aria-label="meta-custom是什么"><!--[--><!--[--><!--]--> meta-custom是什么 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/zh/deyaio/ros2.html" aria-label="ROS2镜像快速上手"><!--[--><!--[--><!--]--> ROS2镜像快速上手 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/zh/deyaio/mono.html" aria-label="Mono镜像快速上手"><!--[--><!--[--><!--]--> Mono镜像快速上手 <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h1><hr><p>为了正确安装和使用dey-aio，您需要安装yocto开发环境所需的依赖包，如果您要使用docker进行开发，则还需要安装docker和docker-compose。 强烈建议您使用一台Linux服务器来安装deyaio开发环境。由于编译自定义的Linux镜像，特别是第一次编译耗时较长，尽量避免使用笔记本或日常工作的电脑来安装DEY开发环境。使用服务器来安装开发环境，在开发时通过日常工作所用的电脑 SSH远程登陆的方式来进行配置和编译，结合tmux工具让编译在SSH Session退出或关闭的情况下不中断编译过程，从而获得更好的系统编译开发体验。 下面安装过程以Ubuntu 22.04为例，同样也适用于Ubuntu 20.04，请使用普通用户来执行这些命令。</p><p>由于国内github访问经常被间歇式阻断，而编译过程中需要流畅的github访问，建议使用PVPN自行搭建科学上网的环境，以确保编译不受GFW防火墙的干扰。</p><h2 id="安装必要的依赖包" tabindex="-1"><a class="header-anchor" href="#安装必要的依赖包"><span>安装必要的依赖包</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>sudo apt update
sudo apt install gawk wget bison file flex git diffstat unzip texinfo gcc build-essential chrpath socat cpio python3 python3-pip python3-pexpect xz-utils debianutils iputils-ping python3-git python3-jinja2 libegl1-mesa-dev libsdl1.2-dev libncurses-dev pylint xterm python3-subunit mesa-common-dev zstd liblz4-tool tmux
sudo apt install python-is-python3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装repo并配置好git" tabindex="-1"><a class="header-anchor" href="#安装repo并配置好git"><span>安装repo并配置好git</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>sudo apt install repo
git config --global user.name  “yourname”   请用你的英文名称替换yourname
git config --global user.email &quot;you@email.com“  请用你的邮箱替换
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装docker和docker-compose" tabindex="-1"><a class="header-anchor" href="#安装docker和docker-compose"><span>安装docker和docker-compose</span></a></h2><p>如果您打算用一套deyaio工具集来开发不同版本的DEY固件，可以用docker的方式在同一个主机上支持不同的DEY版本。新用户可以略过docker安装这一部分，直接进入下一个环节来安装dey-aio工具集。</p><div class="language-text-plain line-numbers-mode" data-ext="text-plain" data-title="text-plain"><pre class="language-text-plain"><code>sudo apt install docker.io docker-compose  
sudo gpasswd -a $USER docker     #将登陆用户加入到docker用户组中
newgrp docker     #更新用户组
reboot 请先重启一下电脑
docker ps    #测试docker命令是否可以使用sudo正常使用
docker network create pvpn --subnet 172.100.100.0/24    #创建配合科学上网使用自定义网络
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="用repo安装dey-aio工具集" tabindex="-1"><a class="header-anchor" href="#用repo安装dey-aio工具集"><span>用repo安装dey-aio工具集</span></a></h2><p>dey-aio-manifest的main分支持包含不同版本的DEY支持，如果只需开发特定版本，也可以用Yocto代号指定</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>cd
mkdir dey-aio
cd dey-aio
repo init -u https://github.com/peyoot/dey-aio-manifest.git -b main 
repo sync
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样，dey-aio的工具集就安装好了，可以新建项目进行DEY系统开发。如果项目有需要，您也可以使用repo命令来在不同的manifest仓库间切换，以使用不同的特性支持。</p><p>您也可以在安装DEY时就指定好功能特性支持。比如开发基于ccmp25的PLC系列DEY 5.0镜像，参考如下：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>cd
mkdir deyaio-ccmp25plc   
cd deyaio-ccmp25plc
repo init -u https://github.com/peyoot/dey-aio-manifest.git -b scarthgap -m ccmp25plc.xml   
repo sync
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p></p><h1 id="dey系统开发" tabindex="-1"><a class="header-anchor" href="#dey系统开发"><span>DEY系统开发</span></a></h1><hr><p>关于科学上网：考虑到国内对github的访问并不顺畅，由于墙对境外IP的阻断方式是间歇式的断开TCP连接，在使用本工具集首次编译时需要科学上网。如果您从未实践过科学上网，可以在位于境外IP的任意云服务器上使用<a href="https://www.github.com/peyoot/pvpn.git" target="_blank" rel="noopener noreferrer">peyoot/pvpn<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>的开源工具快速架设科学上网环境所需的vpn服务器（<a href="https://www.eccee.com/soft-platform/224.html" target="_blank" rel="noopener noreferrer">文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>），然后在本地开发机器上使用相同的工具自动部署vpn客户端，从而实现编译时所需的科学上网环境。（注：上述的安装过程，不论是否需要科学上网，均可正常使用）</p><p>dey-aio的目录结构如下，：<br> /<br> ├── aio                     不同dey版本所需的dey-aio工具和自定义layer<br> │   ├── scarthgap     <br> │   ├── kirkstone | ...<br> ├── dey5.0                     DEY 4.0工具集<br> │   ├──docker-compose.yml    <br> │   ├── mkproject.sh       项目创建工具  <br> │   ├── publish.sh             发布工具 │   ├── sources             源码目录<br> │   ├── workspace            项目目录 <br> ├── dey4.0<br> │   ├──docker-compose.yml    <br> │   ├── mkproject.sh       项目创建工具  <br> │   ├── publish.sh             发布工具 │   ├── sources             源码目录<br> │   ├── workspace            项目目录 <br> | ...<br> ├── release                    发布文件夹 (可选发布到这里或服务器上)<br> │   ├── dey5.0                   <br> │        ├── cc6ul<br> │        ├── ccmp15<br> │        ├── cc8mn<br> │        ├── cc8mm<br> │        ├── cc8x<br> │        ├── ...<br> │   ├── dey4.0                   <br> │        ├── ...<br> │   └ …<br> ├── README.md<br> └── README-cn.md</p><p>要进行项目开发，您需要进入项目所需的DEY版本，然后创建项目。您可以使用docker-compose的方式来创建项目，也可以直接使用官方原生的方法来创建项目。两种方式可共用workspace作为项目目录。</p><p>第一次使用，一般建议直接用官方原生的办法来创建项目并编译系统镜像。</p><h2 id="使用docker-compose的开发方式" tabindex="-1"><a class="header-anchor" href="#使用docker-compose的开发方式"><span>使用docker-compose的开发方式</span></a></h2><p>docker-compose可以快速创建一个与主机隔离的dey的开发环境容器，要创建一个新的docker容器来进行开发，可以用：docker-compose run dey&lt;版本号&gt;，这里的版本号可以是3.2或4.0，容器默认使用peyoot/dey作为DEY的镜像，您也可以修改docker-compose.yml，使用官方的digidotcom/dey镜像。<br> 例：<code>docker-compose run dey4.0</code><br> 这样就可以自动开启容器，并提示您创建项目还是使用原有项目继续开发，如下图所示：</p><pre> +------------------------------------------------------------------------------------+
 |                                                                                    |
 |                                                                                    |
 |                   Welcome to Digi Embedded Yocto Docker container                  |
 |                                                                                    |
 |  This Docker image is a ready to use system based on Digi Embedded Yocto (DEY) to  |
 |  build custom images for the Digi platforms. DEY is an open source and freely      |
 |  available Yocto Project (TM) based embedded Linux distribution.                   |
 |                                                                                    |
 |                                                                                    |
 +------------------------------------------------------------------------------------+
 Do you wish to create a new platform project [Y/N]?
</pre><p>输入Y会让您从所支持的开发板中选择当前项目所使用的som或单板机，然后就可以开始编译生成镜像了。<br><code>bitbake dey-image-qt</code></p><p>如果输入N，则不创建新项目，用户可以到原有的项目中继续从事开发。</p><p>您可以使用exit退出 docker环境，并用docker-compose down来关闭容器。更多用法请参考<a href="https://github.com/peyoot/dey-aio.git" target="_blank" rel="noopener noreferrer">dey-aio项目<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>。</p><h2 id="使用官方原生的digi-embedded-yocto开发方式" tabindex="-1"><a class="header-anchor" href="#使用官方原生的digi-embedded-yocto开发方式"><span>使用官方原生的Digi Embedded Yocto开发方式</span></a></h2><p>dey-aio工具集在安装时就已经自动拉取DEY源码到sources，您可以在workspace中创建项目，直接编译。开发方式和官方并没有区别，只是我们把DEY安装在当前目录下，我们需要进入workspace创建新项目的名称，然后和官方一样，用mkproject.sh来创建项目。本项目对下载目录和sstate缓存做了一些优化处理，它们都存放于父级目录下的project_shared，以方便不同项目使用。以创建cc93项目和ccmp25项目为例：</p><div class="language-text-plain line-numbers-mode" data-ext="text-plain" data-title="text-plain"><pre class="language-text-plain"><code>#ConnectCore 93可参考如下：
cd workspace
mkdir cc93
cd cc93
source ../../mkproject.sh -l
source ../../mkproject.sh -p ccimx93-dvk

bitbake dey-image-qt

#ConnectCore MP2系列核心模块或其它模块类似，请选择对应的平台来source项目，并编译目标镜像：
cd workspace
mkdir ccmp25
source ../../mkproject.sh -l
source ../../mkproject.sh -p ccmp25-dvk
bitbake tf-a-stm32mp
bitbake fip-stm32mp
bitbake core-image-base
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="关于meta-custom" tabindex="-1"><a class="header-anchor" href="#关于meta-custom"><span>关于meta-custom</span></a></h1><hr><p>meta-custom作为一个Yocto的示例layer，用于用户将自定义的程序或配置文件，自启动服务或脚本，驱动程序等文件编译到系统镜像中。用户可以根据项目需要自行更改源码和维护自己的版本库。 为了更方便编排ros，把meta-custom单独作为一个git库，从dey4.0 kirkstone最新版开始，meta-custom不在是dey-aio的一部分</p><h1 id="发布工具" tabindex="-1"><a class="header-anchor" href="#发布工具"><span>发布工具</span></a></h1><p>编译结束后，您可以到对应的DEY版本目录下，使用publish.sh来将编译结果发布到release目录下，并打包成卡刷包，也可以选择发布到TFTP或NFS路径上，方便快速开发测试。</p><div class="language-text-plain line-numbers-mode" data-ext="text-plain" data-title="text-plain"><pre class="language-text-plain"><code>./publish.sh
按提示选择并发布相关的镜像
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="external-link label" href="http://github.com/peyoot/edit/main/docs/zh/deyaio/get-started.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页"><!--[--><!--[--><svg class="icon" viewBox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--> 在 GitHub 上编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link prev" href="/zh/deyaio/introduction.html" aria-label="简介"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>简介</span></div><!--]--></a><a class="route-link next" href="/zh/deyaio/meta-custom.html" aria-label="meta-custom是什么"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>meta-custom是什么</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-oTA4_50g.js" defer></script>
  </body>
</html>
