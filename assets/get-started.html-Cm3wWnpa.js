import{_ as i,r as s,o as r,c as o,a as e,d as t,e as l,b as n}from"./app-Dbzm7Suq.js";const d={},c=n(`<h1 id="get-started" tabindex="-1"><a class="header-anchor" href="#get-started"><span>Get Started</span></a></h1><p>It&#39;s very simple as you can finish it in several minutes without any PC skills. Basically, You&#39;ll need to set up a VPN server first. Scripts will help you generate CA/Key/Certifications in the VPN server and also generate a temporary webpage for you to download the client certifications for your devices.</p><p>Follow the instruction to select server/client mode and VPN type. You&#39;ll need to input public IP of VPN server. And then choose if you&#39;re installing VPN server (VPN Responder) or VPN client(VPN Initiator).</p><p>The scripts was designed as interactive one. But most of the time you only need to press Enter key.</p><h2 id="install-and-auto-configure-vpn-server" tabindex="-1"><a class="header-anchor" href="#install-and-auto-configure-vpn-server"><span>Install and auto-configure VPN server</span></a></h2><p>You need to have a VPS on cloud or have a server with public IP. If you don&#39;t have one, simply buy one from any cloud service provider like AWS/Azure/Alicloud. For example, any type of AWS EC2 or Lightsnail instance will just work fine. VPN server need to be deployed in Linux. Scripts have been tested with Ubuntu 16.04,18.04 and 20.04. Other version of Ubuntu or Debian may work but not garantee.</p><p>EXAMPLE: Set up VPN server in AWS Lightsnail First, creat an instance of AWS Lightsnail. Select Linux/unix platform,OS only, Ubuntu 22.04 and choose a plan. Then create the instance. <img src="https://raw.githubusercontent.com/peyoot/pic_bed/master/imagesaws-lightsnail-1.PNG" alt=""></p><p>Once the instance has been created. Find the public IP of it and record it. You may need it later.</p><p>Click on the VPS&#39;s name and go to Networking tab to configure firewall and add following rules:</p><blockquote><p>IPsec: UDP 500,4500 Openvpn: TCP 8443,11000 Webfs:8000 <img src="https://raw.githubusercontent.com/peyoot/pic_bed/master/images20200920071014.png" alt=""></p></blockquote><p>Then go to connect tab, and connect it from web. Since the script may need to run a few while, it&#39;s better to run shell commands or scripts under tmux.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>ubuntu@ip-172-26-5-182:~$ tmux
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If you close the browser accidentally You can resume the session later by &quot;tmux attach&quot;.</p><p>Download PVPN and run install_vpn.sh as root:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>ubuntu@ip-172-26-5-182:~$git clone https://github.com/peyoot/pvpn.git
Cloning into &#39;pvpn&#39;...remote: Enumerating objects: 145, done.
remote: Counting objects: 100% (145/145), done.
remote: Compressing objects: 100% (102/102), done.remote: Total 770 (delta 47), reused 138 (delta 43), pack-reused 625
Receiving objects: 100% (770/770), 166.11 KiB | 351.00 KiB/s, done.
Resolving deltas: 100% (249/249), done.
ubuntu@ip-172-26-5-182:~$ cd pvpn
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now you can run the PVPN script to install VPN:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>ubuntu@ip-172-26-5-182:~/pvpn$ sudo ./install_vpn.sh
Your ubuntu version is: 18.04
PVPN installation scripts  makes it easy to set up openvpn and strongswan in your own server and PC within NAT You can:
1. Install VPN server with public IP in the internet (press enter to accept this default)
2. Install VPN client on a PC in your home or office, so that it can set up VPN tunnel with the VPN server
3. Extend webfs service time on existing VPN Server so that client can download certifications from this server.
How are you going to install? [1]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Next one is to choose VPN Mode. By default Strongswan (IPSec)was seleted and you can press Enter to go next. Expert may choose to install OpenVPN solo or install both OpenVPN and Ipsec if they need.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Select VPN server modeYou can:
1. Install openvpn+stunnel only and use easyrsa3 as PKI( enter to accept this default)
2. Install Strongswan only and use ipsec PKI tool
3. Install both strongswan and openvpn, use ipsec PKI tool Please choose which vpn type you&#39;re about to install? [2] 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>And the next one goes to the place where you need to input server IP address. Input the correct one as you got from AWS management console.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Please input the server Public IP: []
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The rest you can simply press Enter each time till script finish the installation. Now you&#39;ve got a VPN server installed.</p><h2 id="install-and-configure-vpn-client" tabindex="-1"><a class="header-anchor" href="#install-and-configure-vpn-client"><span>Install and configure VPN CLient</span></a></h2><p>This vary from different platform on your devices:</p><h2 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux</span></a></h2><p>Simply run</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>sudo install_vpn.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>and choose to install VPN client in first selection tab. when it comes to input VPN server public IP address tab. Input the correct one. You&#39;ll just need to press Enter for other interactive selection. It will automatically install and download certs and configure VPN client for you.</p><h2 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h2>`,29),p={href:"https://wiki.strongswan.org/projects/strongswan/wiki/Win7EapCert",target:"_blank",rel:"noopener noreferrer"},u=n('<p>Then create an IPSEC IKEV2 VPN. Authentication using EAP-MSCHAP v2:</p><blockquote><p>username:robin password:pvpnpassword You can change default username and password in conf file /etc/ipsec.secrects</p></blockquote><ul><li>OpenVPN Install Openvpn and stunnel. Put the certs and conf file in right place.</li></ul><h2 id="android" tabindex="-1"><a class="header-anchor" href="#android"><span>Android</span></a></h2><p>Install StrongSwan Client APP. Use cacert.pem as CA. and VPN type set as IKEV2 EAP. Username: robin Password: pvpnpassword ServerID: server ClientID: client</p><h2 id="ipad" tabindex="-1"><a class="header-anchor" href="#ipad"><span>iPad</span></a></h2><h2 id="reference-for-those-install-vpn-server-on-your-own-geer" tabindex="-1"><a class="header-anchor" href="#reference-for-those-install-vpn-server-on-your-own-geer"><span>Reference for those install VPN server on your own geer:</span></a></h2><p>PVPN scripts will help you generated every thing serer needed and also generated a client certification for the use in home or office PC/laptop. You can download client certs directly from server via web browser. All necessary certs,config files,scripts in Ubuntu server/client will be generated in server and download &amp; extract in client automatically.</p><p>Firewall: Following ports need to be available in VPN server for scripts to function as expected:</p><p>TCP 8000 : webfs port for downloading certs and configuration automatically. TCP 8443 : openvpn over stunnel, this is the port that stunnel4 service listen on UDP 500,4500: These two used by ipsec VPN.</p><p>Scripts currently only support ubuntu 16.04 or 18.04, 20.04 After installation, to start the vpn in client PC: For example in Linux PC: For openvpn in ubuntu 18.04: sudo systemctl start openvpn-client@client For strongswan ipsec: ipsec up pvpn</p>',11);function h(v,g){const a=s("ExternalLinkIcon");return r(),o("div",null,[c,e("ul",null,[e("li",null,[t("Strongswan Windows7 and Windows 10 can support IPSec IKEV2. You can open http://Server-IP:8000/pvpn/strongswan/ to download CA certification cacert.pem. Then "),e("a",p,[t("store it in trusted Root Authentication Authorities"),l(a)]),t(".")])]),u])}const f=i(d,[["render",h],["__file","get-started.html.vue"]]),b=JSON.parse(`{"path":"/pvpn/get-started.html","title":"Get Started","lang":"en-US","frontmatter":{"description":"Get Started It's very simple as you can finish it in several minutes without any PC skills. Basically, You'll need to set up a VPN server first. Scripts will help you generate C...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://peyoot.github.io/zh/pvpn/get-started.html"}],["meta",{"property":"og:url","content":"https://peyoot.github.io/pvpn/get-started.html"}],["meta",{"property":"og:title","content":"Get Started"}],["meta",{"property":"og:description","content":"Get Started It's very simple as you can finish it in several minutes without any PC skills. Basically, You'll need to set up a VPN server first. Scripts will help you generate C..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/peyoot/pic_bed/master/imagesaws-lightsnail-1.PNG"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Get Started\\",\\"image\\":[\\"https://raw.githubusercontent.com/peyoot/pic_bed/master/imagesaws-lightsnail-1.PNG\\",\\"https://raw.githubusercontent.com/peyoot/pic_bed/master/images20200920071014.png\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Install and auto-configure VPN server","slug":"install-and-auto-configure-vpn-server","link":"#install-and-auto-configure-vpn-server","children":[]},{"level":2,"title":"Install and configure VPN CLient","slug":"install-and-configure-vpn-client","link":"#install-and-configure-vpn-client","children":[]},{"level":2,"title":"Linux","slug":"linux","link":"#linux","children":[]},{"level":2,"title":"Windows","slug":"windows","link":"#windows","children":[]},{"level":2,"title":"Android","slug":"android","link":"#android","children":[]},{"level":2,"title":"iPad","slug":"ipad","link":"#ipad","children":[]},{"level":2,"title":"Reference for those install VPN server on your own geer:","slug":"reference-for-those-install-vpn-server-on-your-own-geer","link":"#reference-for-those-install-vpn-server-on-your-own-geer","children":[]}],"git":{},"autoDesc":true,"filePathRelative":"pvpn/get-started.md"}`);export{f as comp,b as data};
