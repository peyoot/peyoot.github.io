import{_ as e,o as i,c as t,b as a}from"./app-oTA4_50g.js";const n={},d=a(`<h1 id="rtnodemo不带digi演示程序的实时镜像编译指南" tabindex="-1"><a class="header-anchor" href="#rtnodemo不带digi演示程序的实时镜像编译指南"><span>rtnodemo不带Digi演示程序的实时镜像编译指南</span></a></h1><p>默认地，Digi官方的不同镜像带有对应UI框架的例程，这些例程包括自启动程序和云服务连接，对于实时Linux系统来说是一种负担。 本文将指导您完成剥离Digi例程的镜像开发。</p><div class="custom-container warning"><p class="custom-container-title">注意</p><p>本文以QT5实时镜像为例，仅简单展示如何在系统镜像中剔除Digi原有例程，不涉及系统镜像的深度裁减。</p></div><h2 id="dey-aio开发环境准备" tabindex="-1"><a class="header-anchor" href="#dey-aio开发环境准备"><span>DEY AIO开发环境准备</span></a></h2><p>同标准的deyaio一样，如果从没有安装过依赖包，请先安装，以下以Ubuntu 22.04为例：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>sudo apt install gawk wget file git diffstat file unzip texinfo gcc build-essential chrpath socat cpio python3 python3-pip python3-pexpect xz-utils debianutils iputils-ping python3-git python3-jinja2 libegl1-mesa-dev libsdl1.2-dev pylint xterm python3-subunit mesa-common-dev zstd liblz4-tool
sudo apt install python-is-python3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>安装repo工具并配置git</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>sudo apt install repo
git config --global user.name yourname
git config --global user.email you@email.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装deyaio并搭建去除例程的qt5环境" tabindex="-1"><a class="header-anchor" href="#安装deyaio并搭建去除例程的qt5环境"><span>安装deyaio并搭建去除例程的QT5环境</span></a></h2><p>如果您已经安装了 deyaio，现在您需要rtnodemo分支版本。建议您安装到另一个文件夹，例如 deyaio-rtnodemo。 仅管同一个开发环境您可以编译不同的项目，但通常为了避免混淆，建议在deyaio目录创建之时就定义好其目标镜像。</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>cd
mkdir deyaio-rtnodemo
cd deyaio-rtnodemo
repo init -u https://github.com/peyoot/dey-aio-manifest.git -b scarthgap -m rt-nodemo.xml 
repo sync
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建dey项目" tabindex="-1"><a class="header-anchor" href="#创建dey项目"><span>创建dey项目</span></a></h2><p>cd dey5.0/workspace mkdir ccmp25-qt5rtnodemo cd ccmp25-qt5rtnodemo source ../../mkproject.sh -p ccmp25-dvk</p><h2 id="编译并生成镜像" tabindex="-1"><a class="header-anchor" href="#编译并生成镜像"><span>编译并生成镜像</span></a></h2><p>编辑conf/bblayers.conf，将原来的qt6改为qt5，以实现qt5的支持。 编辑conf/local.conf 并添加您所需的软件包，以下仅供参考:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>GLIBC_GENERATE_LOCALES = &quot;zh_CN.UTF-8 en_GB.UTF-8 en_US.UTF-8&quot;
IMAGE_LINGUAS = &quot;zh-cn&quot;
LOCALE_UTF8_ONLY=&quot;1&quot;

IMAGE_INSTALL:append = &quot; glibc-utils localedef tmux homeaddons&quot;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在可以编译带rtnodemo支持的镜像了</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>bitbake core-image-base
或
bitbake dey-image-base
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="发布并打包" tabindex="-1"><a class="header-anchor" href="#发布并打包"><span>发布并打包</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>cd ../..
./publish
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>按照提示操作并选择正确的项目。 对于镜像类型，您仍然需要选择输入自定义的镜像名称，如果是用core-image-base直接回车即可，或手动输入镜像名</p><p>您可以选择将编译后的输出拷贝到发布文件夹并将其打包成卡刷包或发布到 TFTP/NFS 路径或服务器上。</p>`,22),l=[d];function o(s,r){return i(),t("div",null,l)}const p=e(n,[["render",o],["__file","rtnodemo.html.vue"]]),m=JSON.parse('{"path":"/zh/deyaio/rtnodemo.html","title":"rtnodemo不带Digi演示程序的实时镜像编译指南","lang":"zh-CN","frontmatter":{"description":"rtnodemo不带Digi演示程序的实时镜像编译指南 默认地，Digi官方的不同镜像带有对应UI框架的例程，这些例程包括自启动程序和云服务连接，对于实时Linux系统来说是一种负担。 本文将指导您完成剥离Digi例程的镜像开发。 注意 本文以QT5实时镜像为例，仅简单展示如何在系统镜像中剔除Digi原有例程，不涉及系统镜像的深度裁减。 DEY AIO...","head":[["meta",{"property":"og:url","content":"https://peyoot.github.io/zh/deyaio/rtnodemo.html"}],["meta",{"property":"og:title","content":"rtnodemo不带Digi演示程序的实时镜像编译指南"}],["meta",{"property":"og:description","content":"rtnodemo不带Digi演示程序的实时镜像编译指南 默认地，Digi官方的不同镜像带有对应UI框架的例程，这些例程包括自启动程序和云服务连接，对于实时Linux系统来说是一种负担。 本文将指导您完成剥离Digi例程的镜像开发。 注意 本文以QT5实时镜像为例，仅简单展示如何在系统镜像中剔除Digi原有例程，不涉及系统镜像的深度裁减。 DEY AIO..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"rtnodemo不带Digi演示程序的实时镜像编译指南\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"DEY AIO开发环境准备","slug":"dey-aio开发环境准备","link":"#dey-aio开发环境准备","children":[]},{"level":2,"title":"安装deyaio并搭建去除例程的QT5环境","slug":"安装deyaio并搭建去除例程的qt5环境","link":"#安装deyaio并搭建去除例程的qt5环境","children":[]},{"level":2,"title":"创建dey项目","slug":"创建dey项目","link":"#创建dey项目","children":[]},{"level":2,"title":"编译并生成镜像","slug":"编译并生成镜像","link":"#编译并生成镜像","children":[]},{"level":2,"title":"发布并打包","slug":"发布并打包","link":"#发布并打包","children":[]}],"git":{},"autoDesc":true,"filePathRelative":"zh/deyaio/rtnodemo.md"}');export{p as comp,m as data};
