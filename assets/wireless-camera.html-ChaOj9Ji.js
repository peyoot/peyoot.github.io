import{_ as e,o as t,c as i,b as a}from"./app-oTA4_50g.js";const n={},s=a(`<h1 id="digi-connectcore-无线远程视频监控系统" tabindex="-1"><a class="header-anchor" href="#digi-connectcore-无线远程视频监控系统"><span><strong>Digi ConnectCore 无线远程视频监控系统</strong></span></a></h1><p>无线远程视频监控系统是一套通过WiFi来传输视频流的完整解决方案。该系统由基于Digi Connectcore系列核心模组的单板机和摄像头组成。ConnectCore系列片上系统核心模块集成有高性能的WiFi6模块，系统镜像集成了http和rtsp服务，能够支持多端通过浏览器访问摄像头的高清视频流，在工业和医疗等场景有广泛的应用。</p><p>本演示镜像由DEYAIO工具实现系统镜像和软件工具的编译，可以运行在Digi ConnectCore系列开发板。本系统固件在ConnectCore MP25等核心板充分验证。</p><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p>无线视频监控系统基于Digi ConnectCore MP25 开发板，展示其作为<strong>高性能工业级物联网web无线网关</strong>的核心能力，包括：</p><ul><li><strong>WiFi6 AP/STA/Wifi Direct 功能</strong>：通过核心板上集成的无线模块快速构建本地网络热点，支持多端接入，或是由WiFi Direct构建稳定的收发端链路</li><li><strong>实时视频流传输</strong>：USB/MIPI 摄像头即插即用自动检测与低延迟编码</li><li><strong>多种本地视频接口</strong>： 支持LVDS，HDMI等本地视频接口，实现和Web视频流同步显示</li><li><strong>嵌入式Web 服务器</strong>：无需外部服务器实现设备直连控制</li><li><strong>工业级可靠性</strong>：复杂环境下的稳定数据传输能力</li></ul><h2 id="功能特性" tabindex="-1"><a class="header-anchor" href="#功能特性"><span><strong>功能特性</strong></span></a></h2><h3 id="_1-自主组网能力" tabindex="-1"><a class="header-anchor" href="#_1-自主组网能力"><span>1. 自主组网能力</span></a></h3><ul><li>ConnectCore MP25 集成有WiFi 6E模块，支持AP热点或WiFi Direct访问</li><li>支持wifi6 和WPA3 企业级加密，信道自动选择，确保传输安全性</li><li>三频段自动切换（2.4GHz/5GHz），抗干扰能力强</li></ul><h3 id="_2-实时视频监控系统" tabindex="-1"><a class="header-anchor" href="#_2-实时视频监控系统"><span>2. 实时视频监控系统</span></a></h3><ul><li>支持USB3.0 接口接入UVC 兼容摄像头（支持1080P@60fps）</li><li>支持MIPI接口连接MIPI摄像头</li><li>基于GStreamer 框架的H.264 硬件编码加速</li><li>本地视频流和远程Web 访问同时展示</li><li>浏览器无插件播放</li><li>实测端到端延迟可150ms以内（现场网络环境）</li></ul><h2 id="使用方法" tabindex="-1"><a class="header-anchor" href="#使用方法"><span><strong>使用方法</strong></span></a></h2><p>本演示程序实现自动侦测摄像头，自动按优先级别设置最佳的分辨率，一般无需用户手动操作。</p><p>用户可以使用预编译好的固件镜像，或是自行编译固件，编译方法见后面章节。刷好集成有演示程序的dey-image-lvgl固件后，连接USB摄像头，开机上电，进入系统后，演示程序会识别出所连接的摄像头，并在板子上开启Wifi热点，SSID: digi-ap-mac，密码: digiconnectcore</p><p>连上热点后，在浏览器打开板子的IP地址：http://192.168.46.30，即可看到视频流</p><p>如需更改分辨率或帧率，请打开脚本文件/usr/bin/http_camera_demo.sh，在可配置参数中修改WIDTH_PRIORITY和FRAMERATE，并重启服务或重新启动</p><h4 id="调试" tabindex="-1"><a class="header-anchor" href="#调试"><span>调试</span></a></h4><p>不同的摄像头厂家，所支持的格式不尽相同，在调试时，可以停止服务，改用手动的命令方式运行程序</p><p>先停止服务</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>systemctl stop mjpg_streamer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>手动指定分辨率等：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>mjpg_streamer -i &quot;input_uvc.so -d /dev/video2 -r 800x800 -f 15&quot; -o &quot;output_http.so -p 80 -w /srv/mjpg_streamer/www&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果需要在支持web访问的同时，将视频流也一并输出到本地显示屏，可以用</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>mjpg_streamer -i &quot;input_uvc.so -d /dev/video2 -r 800x800 -f 15&quot; -o &quot;output_viewer.so -i0 -w800 -h800 -f15&quot; -o &quot;output_http.so -p 80 -w /srv/mjpg_streamer/www&quot;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="编译带demo程序的镜像" tabindex="-1"><a class="header-anchor" href="#编译带demo程序的镜像"><span><strong>编译带demo程序的镜像</strong></span></a></h2><p>可通过deyaio来直接编译完整功能镜像卡刷包，完整执行步骤如下：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>cd 
mkdir deyaio-rtsp
repo init -u https://github.com/peyoot/dey-aio-manifest.git -b main -m rtsp.xml
repo sync
cd dey5.0
mkdir ccmp25rtsp
cd ccmp25rtsp
source ../../mkproject.sh -p ccmp25-dvk
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在conf/local.conf中添加这一行:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>IMAGE_INSTALL:append = &quot; mjpg-streamer-service&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>直接编译固件:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>bitbake tf-a-stm32mp
bitbake fip-stm32mp
bitbake dey-image-lvgl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编译完成后，进入dey5.0目录，发布镜像包 cd ~/deyaio-rtsp/dey5.0 ./publish 注意选择镜像为dey-image-lvgl，其它直接按回成，相关镜像和打包好的卡刷包在~/deyaio-rtsp/dey5.0/releash/ccmp25rtsp目录下。</p><h2 id="更多功能" tabindex="-1"><a class="header-anchor" href="#更多功能"><span><strong>更多功能</strong></span></a></h2><p>MIPI摄像头支持 （开发中...)</p>`,34),r=[s];function l(o,d){return t(),i("div",null,r)}const p=e(n,[["render",l],["__file","wireless-camera.html.vue"]]),m=JSON.parse('{"path":"/zh/deyaio/wireless-camera.html","title":"Digi ConnectCore 无线远程视频监控系统","lang":"zh-CN","frontmatter":{"description":"Digi ConnectCore 无线远程视频监控系统 无线远程视频监控系统是一套通过WiFi来传输视频流的完整解决方案。该系统由基于Digi Connectcore系列核心模组的单板机和摄像头组成。ConnectCore系列片上系统核心模块集成有高性能的WiFi6模块，系统镜像集成了http和rtsp服务，能够支持多端通过浏览器访问摄像头的高清视频流...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://peyoot.github.io/deyaio/wireless-camera.html"}],["meta",{"property":"og:url","content":"https://peyoot.github.io/zh/deyaio/wireless-camera.html"}],["meta",{"property":"og:title","content":"Digi ConnectCore 无线远程视频监控系统"}],["meta",{"property":"og:description","content":"Digi ConnectCore 无线远程视频监控系统 无线远程视频监控系统是一套通过WiFi来传输视频流的完整解决方案。该系统由基于Digi Connectcore系列核心模组的单板机和摄像头组成。ConnectCore系列片上系统核心模块集成有高性能的WiFi6模块，系统镜像集成了http和rtsp服务，能够支持多端通过浏览器访问摄像头的高清视频流..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Digi ConnectCore 无线远程视频监控系统\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":2,"title":"功能特性","slug":"功能特性","link":"#功能特性","children":[{"level":3,"title":"1. 自主组网能力","slug":"_1-自主组网能力","link":"#_1-自主组网能力","children":[]},{"level":3,"title":"2. 实时视频监控系统","slug":"_2-实时视频监控系统","link":"#_2-实时视频监控系统","children":[]}]},{"level":2,"title":"使用方法","slug":"使用方法","link":"#使用方法","children":[]},{"level":2,"title":"编译带demo程序的镜像","slug":"编译带demo程序的镜像","link":"#编译带demo程序的镜像","children":[]},{"level":2,"title":"更多功能","slug":"更多功能","link":"#更多功能","children":[]}],"git":{},"autoDesc":true,"filePathRelative":"zh/deyaio/wireless-camera.md"}');export{p as comp,m as data};
